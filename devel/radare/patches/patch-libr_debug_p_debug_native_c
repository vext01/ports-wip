$OpenBSD$
--- libr/debug/p/debug_native.c.orig	Fri Jan 21 08:37:25 2011
+++ libr/debug/p/debug_native.c	Thu Mar 31 21:44:49 2011
@@ -23,6 +23,23 @@ static int r_debug_native_reg_write(int pid, int tid, 
 #include <sys/ptrace.h>
 #include <sys/types.h>
 #include <sys/wait.h>
+
+#if defined(__OpenBSD__)
+#include <machine/reg.h>
+
+#define PTRACE_PEEKTEXT		PT_READ_I
+#define PTRACE_POKETEXT		PT_WRITE_I
+#define PTRACE_PEEKDATA		PT_READ_D
+#define PTRACE_POKEDATA		PT_WRITE_D
+#define PTRACE_ATTACH		PT_ATTACH
+#define PTRACE_DETACH		PT_DETACH
+#define PTRACE_SINGLESTEP	PT_STEP
+#define PTRACE_CONT		PT_CONTINUE
+#define PTRACE_GETREGS		PT_GETREGS
+#define PTRACE_SETREGS		PT_SETREGS
+#define PTRACE_SYSCALL		PT_STEP
+#endif
+
 #define R_DEBUG_REG_T struct reg
 
 #elif __APPLE__
