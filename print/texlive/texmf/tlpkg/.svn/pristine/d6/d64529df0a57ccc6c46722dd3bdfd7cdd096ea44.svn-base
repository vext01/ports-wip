$Id$
Public domain.

Just rough notes on putting together the yearly release --karl.


/home/httpd/html/texlive/mirmon/tlpretest-mirrors.txt 

# on the day of the last tlnet update,
# set opt_frozen in 00texlive.installation.tlpsrc.
# freeze should happen the next day.


then, the next day, build tlpretest.

0. Reset opt_frozen to 0 in 00texlive.installation.tlpsrc.

1. Set up tlpretest:
cd /home/ftp/texlive/tlnet
tar cf - [a-u]* | (cd ../tlpretest && tar xf -)
# do not copy README.

2. Then make these changes in the cron script:
--- cron.tl	2011/05/25 22:49:19	1.171
+++ cron.tl	2011/05/25 22:50:03
@@ -16,7 +16,7 @@ trap "rm -f $lockfile; exit 0;" 0 1 2 15
 critical= #--critical	 # push tlcritical to tlnet
-pretest= #--pretest	 # update tlpretest, not tlnet (when frozen)
+pretest=--pretest	 # update tlpretest, not tlnet (when frozen)
 recreate= #--recreate	 # recreate all packages in tlnet (do not do lightly)
 
 all_frozen=false	 # master tree
-tlnet_frozen=false	 # tlnet/tlpretest
+tlnet_frozen=true	 # tlnet/tlpretest
 : ${images_frozen=true}  # iso generation

3. The next nightly build will update tlpretest, or run
force_rebuild=true cron.tl


4. kpathsea/texmf.cnf & web2c/texmf.cnf,
   Master/release-texlive.txt,
   Master/tlpkg/TeXLive/TLConfig.pm - change $ReleaseYear.
   .mkisofsrc


tlcritical will remain getting updated daily, even though it doesn't
work with tlnet any more.  c'est la vie.


when closer to time:
  in cron.tl, images_frozen=false
  in tl-update-images, ensure V= the new YYYY and target=/.../test
  update /home/ftp/texlive/Images/test/README
  after successful image build, email tldistro@tug.org for info/review


run tl-update-txi
and tl-update-man (and check /tmp/so.rules against man1/Makefile)


w32clientYYYY.zip on web pages.

 after release
texcollection/index.html
store/index.html

texlive/*.html - search for 2010
new bugs.html (save all *.html in historic)
tlmgr.html NEWS
