$OpenBSD$
--- utils.c.orig	Tue Mar 13 00:31:00 2012
+++ utils.c	Tue Mar 13 00:32:12 2012
@@ -239,10 +239,11 @@ girara_file_read_line(FILE* file)
 
   size_t size = 0;
   char* line = NULL;
-  if (getline(&line, &size, file) == -1) {
-    if (line != NULL) {
-      free(line);
-    }
+
+  if ((line = fgetln(file, &size)) == NULL) {
+    if (ferror(file))
+	    perror("fgetln");
+    free(line);
     return NULL;
   }
 
